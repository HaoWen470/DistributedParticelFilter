<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Distributed Particle Filter: src/ParticleFilter.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Distributed Particle Filter
   </div>
   <div id="projectbrief">This is a distributed particle filter. Used for a network of agents that are able to measure a distance between each other or arbitary points. Each agent keeps a representation of the probability distribution of its position up to date</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">ParticleFilter.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;cmath&gt;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;Particle.hpp&quot;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;PerceptionModel.hpp&quot;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;MovingModel.hpp&quot;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;fstream&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;</div><div class="line"><a name="l00012"></a><span class="lineno"><a class="line" href="classParticleFilter.html">   12</a></span>&#160;<span class="keyword">class </span><a class="code" href="classParticleFilter.html">ParticleFilter</a>{</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;    <span class="keyword">private</span>: <a class="code" href="classMovementModel.html">MovementModel</a> movementModel;</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    <span class="keyword">private</span>: <a class="code" href="classPerceptionModel.html">PerceptionModel</a> perceptionModel;</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    </div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;    <span class="keyword">private</span>: std::vector&lt;Particle&gt; particleSet;</div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    <span class="comment">/*</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment">     * Storage of temporary weights for each measurement. </span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">     */</span></div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keyword">private</span>: std::vector&lt;std::vector&lt;double&gt;&gt; reweights;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;     </div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keyword">public</span>: std::vector&lt;Particle&gt; <a class="code" href="classParticleFilter.html#af7340c9e67bf47622d45f26f85e3deeb">getParticleSet</a>();</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keyword">public</span>: <span class="keywordtype">void</span> <a class="code" href="classParticleFilter.html#a84c6ed2f699b9ec2572092ac1d473684">printParticleSet</a>();</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keyword">public</span>: <span class="keywordtype">void</span> <a class="code" href="classParticleFilter.html#a84c6ed2f699b9ec2572092ac1d473684">printParticleSet</a>(std::ofstream *logFile);</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keyword">public</span>: <span class="keywordtype">void</span> <a class="code" href="classParticleFilter.html#aa689bbd14f073aeb1f1a9ef235afcade">normalize</a>(); </div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keyword">public</span>: <span class="keywordtype">void</span> <a class="code" href="classParticleFilter.html#a7cbb0bc65397e8a5a39d5ec23909e94d">evaluate</a>();</div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">public</span>: <span class="keywordtype">void</span> <a class="code" href="classParticleFilter.html#a88095fc284f68875a7c695503c0198ce">addMovement</a>(<a class="code" href="structVector3d.html">Vector3d</a> shift, <a class="code" href="structQuaternion.html">Quaternion</a> rotation);</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    </div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keyword">public</span>: <span class="keywordtype">void</span> <a class="code" href="classParticleFilter.html#a40e29850234965f90555b9c21d29231f">addMeasurement</a>(std::vector&lt;Particle&gt; emitterPartSet,<a class="code" href="structPerception.html">Perception</a> measurement);</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keyword">public</span>: <a class="code" href="classParticleFilter.html#ae4ef25720c55e31e3fef38b0323b10e8">ParticleFilter</a>(<span class="keywordtype">int</span> ParticleCount,<a class="code" href="classPosition3d.html">Position3d</a> initialPosition,<a class="code" href="structMovementParams.html">MovementParams</a> movementParams,<a class="code" href="structPerceptionParams.html">PerceptionParams</a> perceptionParams);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keyword">private</span>: <a class="code" href="classParticle.html">Particle</a> getRandomParticle();</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;};</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="keywordtype">double</span> getCertainty(std::vector&lt;Particle&gt;);</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<a class="code" href="classPosition3d.html">Position3d</a> getCentralPosition(std::vector&lt;Particle&gt;);</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<span class="keywordtype">double</span> getVariance(std::vector&lt;Particle&gt;);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="keywordtype">double</span> getDistance(std::vector&lt;Particle&gt;,<a class="code" href="classPosition3d.html">Position3d</a>);</div><div class="ttc" id="structPerceptionParams_html"><div class="ttname"><a href="structPerceptionParams.html">PerceptionParams</a></div><div class="ttdef"><b>Definition:</b> PerceptionModel.hpp:15</div></div>
<div class="ttc" id="classMovementModel_html"><div class="ttname"><a href="classMovementModel.html">MovementModel</a></div><div class="ttdoc">MovementModel class. Stores a set of parameters. Has to offer function that returns a new position fo...</div><div class="ttdef"><b>Definition:</b> MovingModel.hpp:23</div></div>
<div class="ttc" id="classParticleFilter_html_a84c6ed2f699b9ec2572092ac1d473684"><div class="ttname"><a href="classParticleFilter.html#a84c6ed2f699b9ec2572092ac1d473684">ParticleFilter::printParticleSet</a></div><div class="ttdeci">void printParticleSet()</div><div class="ttdoc">Prints the current particle set to the console. For testing purposes. </div><div class="ttdef"><b>Definition:</b> ParticleFilter.cxx:8</div></div>
<div class="ttc" id="structMovementParams_html"><div class="ttname"><a href="structMovementParams.html">MovementParams</a></div><div class="ttdef"><b>Definition:</b> MovingModel.hpp:16</div></div>
<div class="ttc" id="classParticleFilter_html_aa689bbd14f073aeb1f1a9ef235afcade"><div class="ttname"><a href="classParticleFilter.html#aa689bbd14f073aeb1f1a9ef235afcade">ParticleFilter::normalize</a></div><div class="ttdeci">void normalize()</div><div class="ttdoc">Normalizes the weights of the particle set such that they sum up to 1. </div><div class="ttdef"><b>Definition:</b> ParticleFilter.cxx:85</div></div>
<div class="ttc" id="classParticleFilter_html_a7cbb0bc65397e8a5a39d5ec23909e94d"><div class="ttname"><a href="classParticleFilter.html#a7cbb0bc65397e8a5a39d5ec23909e94d">ParticleFilter::evaluate</a></div><div class="ttdeci">void evaluate()</div><div class="ttdoc">Evaluates the measuerements and adapts the weight of the particles. </div><div class="ttdef"><b>Definition:</b> ParticleFilter.cxx:69</div></div>
<div class="ttc" id="classPosition3d_html"><div class="ttname"><a href="classPosition3d.html">Position3d</a></div><div class="ttdoc">A class taking care of a position and an orientation in a 3 dimensional space. Stores the position as...</div><div class="ttdef"><b>Definition:</b> Position3d.hpp:50</div></div>
<div class="ttc" id="classParticleFilter_html_a40e29850234965f90555b9c21d29231f"><div class="ttname"><a href="classParticleFilter.html#a40e29850234965f90555b9c21d29231f">ParticleFilter::addMeasurement</a></div><div class="ttdeci">void addMeasurement(std::vector&lt; Particle &gt; emitterPartSet, Perception measurement)</div><div class="ttdoc">Adds a measurement to the particlefilter. This leads to a reevaluation of the particles. The weights of the particles according to the measurement are stored until a new movement is added. Then the weights of the particles are adapted according to all measurements to this time. A measurement is given as a Perception object. The perception structure has to be adapted to what the specific agent is able to percieve. The particles are reevaluated according to the perception model. The perception model has to calculate the probability of percieving a measurement for given positions of two agents. </div><div class="ttdef"><b>Definition:</b> ParticleFilter.cxx:53</div></div>
<div class="ttc" id="structQuaternion_html"><div class="ttname"><a href="structQuaternion.html">Quaternion</a></div><div class="ttdoc">Basic struct representing an orientation in 3D. </div><div class="ttdef"><b>Definition:</b> Position3d.hpp:27</div></div>
<div class="ttc" id="classPerceptionModel_html"><div class="ttname"><a href="classPerceptionModel.html">PerceptionModel</a></div><div class="ttdoc">PerceptionModel class. Stores a set of parameters, passed by construction. Has to offer a getProbabil...</div><div class="ttdef"><b>Definition:</b> PerceptionModel.hpp:22</div></div>
<div class="ttc" id="classParticleFilter_html_a88095fc284f68875a7c695503c0198ce"><div class="ttname"><a href="classParticleFilter.html#a88095fc284f68875a7c695503c0198ce">ParticleFilter::addMovement</a></div><div class="ttdeci">void addMovement(Vector3d shift, Quaternion rotation)</div><div class="ttdoc">Adds a movement of the agent and adapts the particle set. The particle set is resampled, and every particle is relocated, based on the MovingModel. The Moving Model returns a new position for a given previous position and a movement relativ to the old position. </div><div class="ttdef"><b>Definition:</b> ParticleFilter.cxx:30</div></div>
<div class="ttc" id="classParticle_html"><div class="ttname"><a href="classParticle.html">Particle</a></div><div class="ttdoc">Basic particle class. Stores a position and a weight. </div><div class="ttdef"><b>Definition:</b> Particle.hpp:11</div></div>
<div class="ttc" id="classParticleFilter_html"><div class="ttname"><a href="classParticleFilter.html">ParticleFilter</a></div><div class="ttdoc">Class that stores a vector of particles and maintains them. Can integrate movements and measurements...</div><div class="ttdef"><b>Definition:</b> ParticleFilter.hpp:12</div></div>
<div class="ttc" id="structPerception_html"><div class="ttname"><a href="structPerception.html">Perception</a></div><div class="ttdef"><b>Definition:</b> PerceptionModel.hpp:8</div></div>
<div class="ttc" id="structVector3d_html"><div class="ttname"><a href="structVector3d.html">Vector3d</a></div><div class="ttdoc">Basic struct representing a position in euclidian coordiantes. </div><div class="ttdef"><b>Definition:</b> Position3d.hpp:7</div></div>
<div class="ttc" id="classParticleFilter_html_af7340c9e67bf47622d45f26f85e3deeb"><div class="ttname"><a href="classParticleFilter.html#af7340c9e67bf47622d45f26f85e3deeb">ParticleFilter::getParticleSet</a></div><div class="ttdeci">std::vector&lt; Particle &gt; getParticleSet()</div><div class="ttdoc">Returns the particle set (For testing purposes!, do not edit) </div><div class="ttdef"><b>Definition:</b> ParticleFilter.cxx:3</div></div>
<div class="ttc" id="classParticleFilter_html_ae4ef25720c55e31e3fef38b0323b10e8"><div class="ttname"><a href="classParticleFilter.html#ae4ef25720c55e31e3fef38b0323b10e8">ParticleFilter::ParticleFilter</a></div><div class="ttdeci">ParticleFilter(int ParticleCount, Position3d initialPosition, MovementParams movementParams, PerceptionParams perceptionParams)</div><div class="ttdoc">Constructor for a particlefilter with given initial position and the desired number of particles...</div><div class="ttdef"><b>Definition:</b> ParticleFilter.cxx:110</div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
